var WPFormsCaptcha = window.WPFormsCaptcha || function(a, d) {
    "use strict";
    var o = {
        init: function() {
            d(o.ready), d(a).on("elementor/popup/show", function() {
                o.ready()
            })
        },
        ready: function() {
            d(".wpforms-captcha-equation").each(function() {
                var a = d(this).parent(),
                    t = wpforms_captcha.cal[Math.floor(Math.random() * wpforms_captcha.cal.length)],
                    n = o.randomNumber(wpforms_captcha.min, wpforms_captcha.max),
                    r = o.randomNumber(wpforms_captcha.min, wpforms_captcha.max);
                a.find("span.n1").text(n), a.find("input.n1").val(n), a.find("span.n2").text(r), a.find("input.n2").val(r), a.find("span.cal").text(t), a.find("input.cal").val(t), a.find("input.a").attr({
                    "data-cal": t,
                    "data-n1": n,
                    "data-n2": r
                })
            }), d(a).on("OptinMonsterAfterInject", function() {
                o.ready()
            }), o.loadValidation()
        },
        loadValidation: function() {
            void 0 !== d.fn.validate && d.validator.addMethod("wpf-captcha", function(a, t, n) {
                var r = d(t);
                if ("math" === n) {
                    var o = Number(r.attr("data-n1")),
                        i = Number(r.attr("data-n2")),
                        n = r.attr("data-cal"),
                        e = Number(a),
                        c = !1;
                    switch (n) {
                        case "-":
                            c = o - i;
                            break;
                        case "+":
                            c = o + i;
                            break;
                        case "*":
                            c = o * i
                    }
                } else e = d.trim(a.toString().toLowerCase()), c = d.trim(r.attr("data-a").toString().toLowerCase());
                return this.optional(t) || e === c
            }, d.validator.format(wpforms_captcha.errorMsg))
        },
        randomNumber: function(a, t) {
            return Math.floor(Math.random() * (Number(t) - Number(a) + 1)) + Number(a)
        }
    };
    return o
}(document, (window, jQuery));
WPFormsCaptcha.init();